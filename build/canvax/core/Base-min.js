KISSY.add("canvax/core/Base",function(){var a={};"Boolean Number String Function Array Date RegExp Object Error".replace(/[^, ]+/g,function(b){a["[object "+b+"]"]=b.toLowerCase()});var b={mainFrameRate:60,now:0,_pixelCtx:null,__emptyFunc:function(){},_devicePixelRatio:window.devicePixelRatio||1,_createCanvas:function(a,b,c){var d=document.createElement("canvas");return d.style.position="absolute",d.style.width=b+"px",d.style.height=c+"px",d.setAttribute("width",b*this._devicePixelRatio),d.setAttribute("height",c*this._devicePixelRatio),d.setAttribute("id",a),d},canvasSupport:function(){return!!document.createElement("canvas").getContext},createObject:function(a,c){var d,e=Object.create;return e?d=e(a):(b.__emptyFunc.prototype=a,d=new b.__emptyFunc),d.constructor=c,d},setContextStyle:function(a,b){for(p in b)"textBaseline"!=p&&p in a&&(b[p]||_.isNumber(b[p]))&&("globalAlpha"==p?a[p]*=b[p]:a[p]=b[p])},creatClass:function(a,c,d){if(!c||!a)return a;var e,f=c.prototype;return e=b.createObject(f,a),a.prototype=_.extend(e,a.prototype),a.superclass=b.createObject(f,c),d&&_.extend(e,d),a},debugMode:!1,log:function(){var a=this;if(a.debugMode){if("Error"in window)for(var b in arguments)throw new Error(arguments[b]);else if("console"in window&&console.log)for(var b in arguments)console.log(arguments[b]);return a}},initElement:function(a){"undefined"!=typeof FlashCanvas&&FlashCanvas.initElement&&(FlashCanvas.setOptions({swfPath:"http://g.tbcdn.cn/thx/canvax/1.0.0/canvax/library/flashCanvas/flashcanvas.swf"}),FlashCanvas.initElement(a))},checkOpt:function(a){return a?a&&!a.context?(a.context={},a):a:{context:{}}},_UID:0,getUID:function(){return this._UID++},createId:function(a){var c=a.charCodeAt(a.length-1);return c>=48&&57>=c&&(a+="_"),a+b.getUID()},getType:function(b){return null==b?String(b):"object"==typeof b||"function"==typeof b?a[Object.prototype.toString.call(b)]||"object":typeof b},copy:function(a,b,c){if(_.isEmpty(b))return a;for(var d in b)(!c||a.hasOwnProperty(d)||void 0!==a[d])&&(a[d]=b[d]);return a},copyEvent:function(a,b){!b.hasOwnProperty&&(b.hasOwnProperty=Object.prototype.hasOwnProperty);for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}};return b},{requires:["canvax/animation/AnimationFrame","ontouchstart"in window?"canvax/library/hammer":"",window._?"":"canvax/library/underscore",document.createElement("canvas").getContext?"":"canvax/library/flashCanvas/flashcanvas"]});