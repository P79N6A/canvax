define("canvax/geom/SmoothSpline",["canvax/geom/Vector"],function(a){function b(a,b,c,d,e,f,g){var h=.5*(c-a),i=.5*(d-b);return(2*(b-c)+h+i)*g+(-3*(b-c)-2*h-i)*f+h*e+b}return function(c,d){var e=c.length;if(1==e)return c;for(var f=[],g=0,h=new a(c[0]),i=null,j=1;e>j;j++)i=new a(c[j]),g+=h.distance(i),h=i;h=null,i=null;var k=g/6;k=e>k?e:k;for(var j=0;k>j;j++){var l,m,n,o=j/(k-1)*(d?e:e-1),p=Math.floor(o),q=o-p,r=c[p%e];d?(l=c[(p-1+e)%e],m=c[(p+1)%e],n=c[(p+2)%e]):(l=c[0===p?p:p-1],m=c[p>e-2?e-1:p+1],n=c[p>e-3?e-1:p+2]);var s=q*q,t=q*s;f.push([b(l[0],r[0],m[0],n[0],q,s,t),b(l[1],r[1],m[1],n[1],q,s,t)])}return f}});