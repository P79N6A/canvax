KISSY.add("canvax/geom/SmoothSpline",function(a,b){function c(a,b,c,d,e,f,g){var h=.5*(c-a),i=.5*(d-b);return(2*(b-c)+h+i)*g+(-3*(b-c)-2*h-i)*f+h*e+b}return function(a,d){for(var e=a.length,f=[],g=0,h=new b(a[0]),i=null,j=1;e>j;j++)i=new b(a[j]),g+=h.distance(i),h=i;h=null,i=null;var k=g/5;k=e>k?e:k;for(var j=0;k>j;j++){var l,m,n,o=j/(k-1)*(d?e:e-1),p=Math.floor(o),q=o-p,r=a[p%e];d?(l=a[(p-1+e)%e],m=a[(p+1)%e],n=a[(p+2)%e]):(l=a[0===p?p:p-1],m=a[p>e-2?e-1:p+1],n=a[p>e-3?e-1:p+2]);var s=q*q,t=q*s;f.push([c(l[0],r[0],m[0],n[0],q,s,t),c(l[1],r[1],m[1],n[1],q,s,t)])}return f}},{requires:["canvax/geom/Vector"]});