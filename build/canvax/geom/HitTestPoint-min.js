define("canvax/geom/HitTestPoint",["canvax/core/Base","canvax/geom/Math"],function(a,b){function c(a,b){var c=b.x,e=b.y;return a&&a.type?d(a,c,e):!1}function d(a,b,c){switch(a.type){case"line":return f(a.context,b,c);case"brokenline":return g(a,b,c);case"text":return!0;case"rect":return!0;case"circle":return i(a,b,c);case"ellipse":return k(a,b,c);case"sector":return j(a,b,c);case"path":case"droplet":return m(a,b,c);case"polygon":case"isogon":return l(a,b,c)}}function e(a,b,d){return!c(a,b,d)}function f(a,b,c){var d=a.xStart,e=a.yStart,f=a.xEnd,g=a.yEnd,h=Math.max(a.lineWidth,3),i=0,j=d;if(c>e+h&&c>g+h||e-h>c&&g-h>c||b>d+h&&b>f+h||d-h>b&&f-h>b)return!1;if(d===f)return Math.abs(b-d)<=h/2;i=(e-g)/(d-f),j=(d*g-f*e)/(d-f);var k=(i*b-c+j)*(i*b-c+j)/(i*i+1);return h/2*h/2>=k}function g(a,b,c){for(var d,e=a.context,g=e.pointList,i=!1,j=0,k=g.length-1;k>j&&(d={xStart:g[j][0],yStart:g[j][1],xEnd:g[j+1][0],yEnd:g[j+1][1],lineWidth:e.lineWidth},!h({x:Math.min(d.xStart,d.xEnd)-d.lineWidth,y:Math.min(d.yStart,d.yEnd)-d.lineWidth,width:Math.abs(d.xStart-d.xEnd)+d.lineWidth,height:Math.abs(d.yStart-d.yEnd)+d.lineWidth},b,c)||!(i=f(d,b,c)));j++);return i}function h(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height?!0:!1}function i(a,b,c,d){var e=a.context;return!d&&(d=e.r),d*d>b*b+c*c}function j(a,c,d){var e=a.context;if(!i(a,c,d)||e.r0>0&&i(a,c,d,e.r0))return!1;var f=b.degreeTo360(e.startAngle),g=b.degreeTo360(e.endAngle),h=b.degreeTo360(Math.atan2(d,c)/Math.PI*180%360),j=!0;(f>g&&!e.clockwise||g>f&&e.clockwise)&&(j=!1);var k=[Math.min(f,g),Math.max(f,g)],l=h>k[0]&&h<k[1];return l&&j||!l&&!j}function k(a,b,c){var d,e=a.context,f={x:0,y:0},g=e.hr,h=e.vr,i={x:b,y:c};return i.x-=f.x,i.y-=f.y,i.x*=i.x,i.y*=i.y,g*=g,h*=h,d=h*i.x+g*i.y-g*h,0>d}function l(a,b,c){var d=a.context?a.context:a,e=_.clone(d.pointList);e.push(e[0]);for(var g,h=0,i=e[0][1]>c,j=1;j<e.length;j++){var k=f({xStart:e[j-1][0],yStart:e[j-1][1],xEnd:e[j][0],yEnd:e[j][1],lineWidth:d.lineWidth||1},b,c);if(k)return!0;if(d.fillStyle&&(g=i,i=e[j][1]>c,g!=i)){var l=(g?1:0)-(i?1:0);l*((e[j-1][0]-b)*(e[j][1]-c)-(e[j-1][1]-c)*(e[j][0]-b))>0&&(h+=l)}}return h}function m(a,b,c){for(var d=a.context,e=d.pointList,f=!1,g=0,h=e.length;h>g&&!(f=l({pointList:e[g],lineWidth:d.lineWidth,fillStyle:d.fillStyle},b,c));g++);return f}var n={};return n={isInside:c,isOutside:e}});