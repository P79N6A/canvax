define("canvax/event/EventDispatcher",["canvax/core/Base","canvax/event/EventManager"],function(a,b){var c=function(){arguments.callee.superclass.constructor.call(this,name)};return a.creatClass(c,b,{on:function(a,b){return this._addEventListener(a,b),this},addEventListener:function(a,b){return this._addEventListener(a,b),this},un:function(a,b){return this._removeEventListener(a,b),this},removeEventListener:function(a,b){return this._removeEventListener(a,b),this},removeEventListenerByType:function(a){return this._removeEventListenerByType(a),this},removeAllEventListeners:function(){return this._removeAllEventListeners(),this},fire:function(a,b){var c=null;return b?(c=b.type,b.type=a):b={type:a},this.dispatchEvent(b),c&&(b.type=c),this},dispatchEvent:function(a){if("mouseover"!=a.type){if(this._dispatchEvent(a),"mouseout"==a.type&&this._hoverClass){var b=this.getStage().parent;this._hoverClass=!1,b._hoverStage.removeChildById(this.id),this.context.globalAlpha=this._globalAlpha,delete this._globalAlpha}return this}var c=this._heartBeatNum;if(this._dispatchEvent(a),c!=this._heartBeatNum&&(this._hoverClass=!0,this.hoverClone)){var b=this.getStage().parent,d=this.clone(!0);d._transform=this.getConcatenatedMatrix(),b._hoverStage.addChildAt(d,0),this._globalAlpha=this.context.globalAlpha,this.context.globalAlpha=0}},hasEvent:function(a){return this._hasEventListener(a)},hasEventListener:function(a){return this._hasEventListener(a)},hover:function(a,b){return this.on("mouseover",a),this.on("mouseout",b),this},once:function(a,b){return this.on(a,function(){b.apply(this,arguments),this.un(a,arguments.callee)}),this}}),c});